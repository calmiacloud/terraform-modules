name: AmiComponentBasicPackages
schemaVersion: "1.0"

phases:
  - name: build
    steps:
      - name: UpdateOS
        action: UpdateOS
        timeoutSeconds: -1
        inputs:
          exclude:
            - amazon-ssm-agent
      - name: basic-packages
        action: ExecuteBash
        inputs:
          commands:
            - sudo apt-get install -y curl wget unzip software-properties-common
      - name: Reboot
        action: Reboot
        onFailure: Abort
      - name: PostReboot
        action: ExecuteBash
        inputs:
          commands:
            - echo 'The system has restarted successfully.'